{% extends 'base.html' %}

{% block title %}
my profile
{% endblock title %}

{% block content %}

<!-- MODAL -->
<head>
  <style>
table {
  border : 0;
  border-collapse: collapse !important;
  width: 100%;
  max-width: 500px;
}

th, td {
  border : 0 !important;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

.blank_row
{
    height: 30px !important; /* overwrites any other rules */
    background-color: #FFFFFF;
}

</style>
</head>

<div class="ui modal mymodal">
    <i class="close icon"></i>
    <div class="header">
      Update Profile
    </div>
    <div class="image content">
      <div class="ui medium image">
        <img src="{{profile.avatar.url}}">
      </div>
      <div class="description">
        <div class="ui header">Profile Details</div>
            <form action="" method="POST" class="ui form" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
      </div>
    </div>
    <div class="actions">
      <button type="submit" class="ui positive right labeled icon button">
        Update
        <i class="checkmark icon"></i>
      </button>
    </form>
    </div>
  </div>


<div class="ui segment" style="padding: 40px;">
    {% if confirm %}
    <div class="ui green message">Profile Updated</div>
    {% endif %}
    <h3>My Profile: {{request.user}}</h3>
    <div class="ui grid">
    <div class="row">
        <div class="six wide column">
            <img class="ui medium rounded image" src={{profile.avatar.url}}>
            <br>

        </div>
        <div class="ten wide column">
            <table class="ui table">
                <tbody>
                    <tr>
                        <td>Username :</td>
                        <td>{{profile.user}}</td>
                    </tr>
                    <tr>
                        <td>First Name :</td>
                        <td>{{profile.first_name}}</td>
                    </tr>
                    <tr>
                        <td>Last Name :</td>
                        <td>{{profile.last_name}}</td>
                    </tr>
                    <tr>
                      <td>No. of Posts :</td>
                      <td>{{profile.get_posts_no}}</td>
                  </tr>
                  <tr class="blank_row">
                      <td colspan="2"></td>
                  </tr>
                  <tr><td colspan="2" style="text-align:center"><button class="ui primary button" id='modal-btn' style="margin-left: 20px;">Update Profile</button></td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

{% endblock content %}